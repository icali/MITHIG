\subsection{Introduction\label{subsec:HWintro}} 
The CMS experiment is mainly designed to record high luminosity, high pile-up (PU) proton-proton collisions events.
However, with several detector adjustments/configuration changes over the last several years, the CMS experiment has been able to record successfully also the high multiplicity heavy ion
collisions delivered by the LHC. The main changes required to allow CMS to
operate in the HI environment can be summarized as follows:

\begin{itemize} \item A dedicated silicon pixel Front End Driver (FED) firmware for a high multiplicity environment. The
overall FED data flow has been re-designed, changing the readout scheme of the input links and redistributing internal
buffers.

\item The silicon tracker zero-suppression was bypassed and all channel information was forwarded to the CMS DAQ system.
Zero-suppression was then performed in the HLT. A new tracker FED firmware was also designed to reduce the event payload
by $\sim 30 \%$ without information loss. The reduction was obtained by stripping unused information out from the
standard data format.

\item DAQ reconfiguration / rebalance to deal with big data volume and high throughput. In standard p-p collision
operation, an average event size corresponds to $\sim 1-1.5$ MB. During Pb-Pb collision operation, the average event
size at HLT input is around 17 MB (14 MB of the event are due to the reading out of all channels of the silicon tracker).  

\item The Level-1 trigger firmware was redesigned to perform a dedicated underlying event subtraction algorithm and to
include specific HI algorithms.

\item Significant adjustment in the overall CMS dataflow. \end{itemize}


With the specific configuration described above, and with a series of other small adjustments not mentioned here, CMS
was able to run smoothly during the 2015 Pb-Pb data-taking with an average L1 rate of $\sim 10$ kHz. A few hours of the
Pb-Pb data-taking period were also devoted to exploring the limit of CMS in terms of the maximum L1 rate allowed.  With
the 2015 CMS configuration for Pb-Pb, the absolute L1 rate limit was observed at 12 kHz. In the next sections, this
limit, as well as solutions to increase it, will be discussed.

During the 2015 run, the collision rate was $\sim 20$ kHz. For the 2018 Pb-Pb run we expect an increase in the collision
rate to $\sim 30$ kHz. Without applying any changes to the L1 trigger mix used in 2015, this extra factor would mean
operating CMS above its limit, with a significant impact on the physics program. In addition, it would be beneficial to also further increase the number of minimum bias events collected.
The goal of the poposed work is to increase the CMS readout rate to 30 kHz as well as an higher number of events to disk.

It is important to bare in mind that also if the latter two projects results vital for the Minimum Bias event collection and the HF program, these two projects have also a fundamental importance in the ability of CMS to exploit the potential of the luminosity delivered by LHC in case of PbPb collisions. 